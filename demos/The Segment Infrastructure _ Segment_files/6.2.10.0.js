(window.mutinyWpJsonp=window.mutinyWpJsonp||[]).push([[6],{63:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n(1),o=n(5),i=n(6),a=n(4);function c(t,e){var n=new r.a("cross-domain-tracker"),i=t.config.tracked_domains;n.info("Checking to attach for",i),i&&(n.info("Queuing timeout",i),setTimeout((function(){n.info("Attaching cross domain tracker"),Array.prototype.slice.call(document.querySelectorAll("a")).forEach((function(r){u(t.config,r.href,r.search,e)&&(n.info("Adding param to",r),r.href=Object(a.a)(r.href,o.j,e))}))}),0))}function u(t,e,n,r){var o=t.tracked_domains;return!!o&&Object(i.b)(o,(function(t){var o=Object(a.h)(n)._mv;return e.includes(t)&&!window.location.href.includes(t)&&o!==r}))}},98:function(t,e,n){"use strict";n.r(e),n.d(e,"attachEvents",(function(){return x}));var r,o=n(7),i=n(1),a=n(4),c=n(23),u=n(0),s=n(32),f=function(){function t(t,e,n,r){this.record=t,this.userData=e,this.exporter=n,this.element=r,this.attached=!1,this.listener=function(t){},this.logger=new i.a("dom-event")}return t.prototype.attachEvent=function(){if(!this.attached){var t=this.getElement(),e=this.record.listener_type;if(e===u.p.PageView)Object(a.g)(this.record,window.location)&&(this.logger.info("Attaching/firing PageView conversion event for",this.record),this.listener(new Event("pageView"))),this.attached=!0;else if(t){var n=this.domEventType();this.logger.info("Attaching "+n+" event to "+this.record.selector,t),t.addEventListener(n,this.listener),this.attached=!0}else this.logger.error("Attempted to attach "+e+" event to "+this.record.selector+", but no record exists")}},t.prototype.teardown=function(){this.logger.info("Attempting to tear down DOMEvent",this.record);var t=this.getElement();t?(t.removeEventListener(this.record.listener_type,this.listener),this.logger.info("Removed "+this.record.listener_type+" event listener from "+this.record.selector),this.attached=!1):this.logger.error("No element to remove listener from",this.record,this.element)},t.prototype.domEventType=function(){return this.record.listener_type},t.prototype.getElement=function(){return this.element?this.element:this.record.selector?document.querySelector(this.record.selector):void 0},t}(),d=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.record=e,i.userData=n,i.exporter=r,i.listener=function(t){i.trackConversionEvent(t)},i.trackConversionEvent=function(t){i.logger.info("Running listener for",i.record),i.logger.info("Attached: ",i.attached);var e=t.target,n=i.record.listener_type;if(n===u.p.Submit)i.exporter.track(o.a.Conversion,{conversionConfigurationId:i.record.conversion_configuration_id,formData:{}});else if(n===u.p.Click&&e&&"a"===e.tagName.toLowerCase()&&e.href&&"_blank"!==e.target){var r=e.href;Object(s.b)(t,(function(){return i.exporter.track(o.a.Conversion,{conversionConfigurationId:i.record.conversion_configuration_id,formData:{}}),i.exporter.forceFlushQueues()}),(function(){return window.location.href=r}),5e3)}else i.exporter.track(o.a.Conversion,{conversionConfigurationId:i.record.conversion_configuration_id,formData:{}})},i}return d(e,t),e}(f),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.record=e,o.userData=n,o.exporter=r,o.listener=function(t){var e=t.target.value;o.userData.set(o.record.data.store_key,e)},o}return h(e,t),e}(f),v=function(t){return t.data.event&&"calendly.event_scheduled"===t.data.event};var m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listener=function(t){t instanceof MessageEvent&&v(t)&&e.trackConversionEvent(t)},e}return m(e,t),e.prototype.domEventType=function(){return"message"},e.prototype.getElement=function(){return window},e}(p),g=n(9),_=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function y(t){window.drift&&window.drift.on&&(window.drift.on("emailCapture",(function(e){return t.track(o.a.Conversion,{formData:_(_({},e),{name:"[Drift] Email Captured"})})})),window.drift.on("phoneCapture",(function(e){return t.track(o.a.Conversion,{formData:_(_({},e),{name:"[Drift] Phone Captured"})})})),window.drift.on("scheduling:meetingBooked",(function(e){return t.track(o.a.Conversion,{formData:_(_({},e),{name:"[Drift] Meeting Booked"})})})))}var b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.attachEvent=function(){window.drift?this.attachDriftListeners():Object(g.e)(window,"drift",this.attachDriftListeners)},e.prototype.teardown=function(){this.attached=!1},e.prototype.attachDriftListeners=function(){var t=this;window.drift&&window.drift.on&&(window.drift.on("emailCapture",(function(e){return t.attached&&t.exporter.track(o.a.Conversion,{conversionConfigurationId:t.record.conversion_configuration_id,formData:e})})),window.drift.on("emailCapture",(function(e){return t.attached&&t.exporter.track(o.a.Conversion,{conversionConfigurationId:t.record.conversion_configuration_id,formData:e})})),window.drift.on("scheduling:meetingBooked",(function(e){return t.attached&&t.exporter.track(o.a.Conversion,{conversionConfigurationId:t.record.conversion_configuration_id,formData:e})})))},e}(p);function O(t){return"hsFormCallback"===t.data.type&&"onFormSubmitted"===t.data.eventName}var C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listener=function(t){t instanceof MessageEvent&&O(t)&&e.trackConversionEvent(t)},e}return C(e,t),e.prototype.domEventType=function(){return"message"},e.prototype.getElement=function(){return window},e}(p);function D(t,e,n){if(t.event_type===u.g.Data)return new l(t,e,n);if(function(t){return t.event_type===u.g.Conversion}(t))switch(t.listener_type){case u.p.Calendly:return new w(t,e,n);case u.p.Drift:return new k(t,e,n);case u.p.Hubspot:return new E(t,e,n);default:return new p(t,e,n)}throw new Error("Unknown DOMUpdate type '"+t+"'")}var j=n(63);function x(t,e){var n,r=new i.a("entry"),u=Object(a.c)(t.dom_events,e.preview);u.length>0?r.info("DOM Events:",u):r.info("No DOM Events to attach"),t.config.track_calendly&&(n=e.exporter,window.addEventListener("message",(function(t){if(v(t)){var e=window.location,r=e.hostname,i=e.pathname;n.track(o.a.Conversion,{formData:{name:"[Calendly] Meeting Booked ("+r+i+")"}})}}))),t.config.track_drift&&function(t){window.drift?y(t):Object(g.e)(window,"drift",(function(){return y(t)}))}(e.exporter),t.config.track_hubspot&&function(t){window.addEventListener("message",(function(e){O(e)&&t.track(o.a.Conversion,{formData:{name:"[HubSpot] Form Submitted"}})}))}(e.exporter);var f=new c.a(!1,[],u.map((function(t){return D(t,e.userDataStore.getWriteableStore(),e.exporter)})));if(f.onRender((function(){return Object(j.a)(t,e.visitorToken)})),t.config.track_forms){r.info("Attaching intercepting form listener to all forms on the page");var d=window.location.href;if(!t.config.track_forms_url_regex||d.match(t.config.track_forms_url_regex)){var p=function(t){return function(e){var n=window.location,r=n.hostname,i=n.pathname,a=e.defaultPrevented;e.preventDefault(),Object(s.b)(e,(function(){return t.track(o.a.Conversion,{formData:{name:"Form submitted on "+r+i}})}),(function(){t.forceFlushQueues(),a||e.target.submit()}),750)}}(e.exporter);f.onRender((function(){document.querySelectorAll("form").forEach((function(t){t.removeEventListener("submit",p),t.addEventListener("submit",p)}))}))}}f.renderAsync()}}}]);